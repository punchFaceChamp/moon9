texture xTEX;	// material texture
vector xDIF;	//material diffuse
vector xAMB;	//material ambient

dword dAMB;		//ambient colour
vector vL0D;	//light 0 direction
vector vL0C;	//light 0 colour
vector vL0A;	//light 0 colour

technique t0
{
	pass p0
	{
		LightDirection[0] = <vL0D>;
		LightDiffuse[0] = <vL0C>;
		LightAmbient[0] = <vL0A>;
		LightType[0] = Directional;
		LightEnable[0] = TRUE;
		
		Texture[0] = <xTEX>;
		MaterialDiffuse = <xDIF>;
		//MaterialAmbient = 0xff303030;
		MaterialAmbient = <xAMB>;
		Ambient = <dAMB>;
	}
	pass p1
	{
		TextureTransformFlags[0] = Disable;
		TexCoordIndex[0] = PassThru;
		
		ColorOp[0] = Modulate2x;
		ColorArg1[0] = Diffuse;
		ColorArg2[0] = Texture;
		
		AlphaOp[0] = Disable;
		//AlphaArg1[0] = Texture;
	
		DiffuseMaterialSource = Material;
		
		ColorOp[1] = Disable;
	}
}